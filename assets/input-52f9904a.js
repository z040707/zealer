import{r as v,ab as G,a9 as C,a2 as w,ac as x,a3 as j,P as me,a8 as he,ad as pe,G as ne,ae as ge,af as F,o as P,I as be,m as re,Z as I,w as X,a0 as D,c as A,a1 as ye,H as Ce}from"./index-ce7fb889.js";import{h as we,d as J,u as Pe,b as q,c as Le}from"./styled-components.browser.esm-b4eee38b.js";import{d as Re,t as Ee,u as xe,a as Fe}from"./index-f9dd01d7.js";import{u as Se,a as Te,i as $e}from"./use-resize-effect-1bab2614.js";var ae=function(n,t){var e=t.manual,r=t.ready,i=r===void 0?!0:r,s=t.defaultParams,c=s===void 0?[]:s,f=t.refreshDeps,l=f===void 0?[]:f,o=t.refreshDepsAction,d=v.useRef(!1);return d.current=!1,G(function(){!e&&i&&(d.current=!0,n.run.apply(n,C([],w(c),!1)))},[i]),G(function(){d.current||e||(d.current=!0,o?o():n.refresh())},C([],w(l),!1)),{onBefore:function(){if(!i)return{stopNow:!0}}}};ae.onInit=function(n){var t=n.ready,e=t===void 0?!0:t,r=n.manual;return{loading:!r&&e}};const Me=ae;function ie(n,t){var e=v.useRef({deps:t,obj:void 0,initialized:!1}).current;return(e.initialized===!1||!we(e.deps,t))&&(e.deps=t,e.obj=n(),e.initialized=!0),e.obj}var H=new Map,ke=function(n,t,e){var r=H.get(n);r!=null&&r.timer&&clearTimeout(r.timer);var i=void 0;t>-1&&(i=setTimeout(function(){H.delete(n)},t)),H.set(n,x(x({},e),{timer:i}))},Ae=function(n){return H.get(n)},B=new Map,Oe=function(n){return B.get(n)},We=function(n,t){B.set(n,t),t.then(function(e){return B.delete(n),e}).catch(function(){B.delete(n)})},T={},Ne=function(n,t){T[n]&&T[n].forEach(function(e){return e(t)})},Z=function(n,t){return T[n]||(T[n]=[]),T[n].push(t),function(){var r=T[n].indexOf(t);T[n].splice(r,1)}},De=function(n,t){var e=t.cacheKey,r=t.cacheTime,i=r===void 0?5*60*1e3:r,s=t.staleTime,c=s===void 0?0:s,f=t.setCache,l=t.getCache,o=v.useRef(),d=v.useRef(),m=function(a,u){f?f(u):ke(a,i,u),Ne(a,u.data)},g=function(a,u){return u===void 0&&(u=[]),l?l(u):Ae(a)};return ie(function(){if(e){var a=g(e);a&&Object.hasOwnProperty.call(a,"data")&&(n.state.data=a.data,n.state.params=a.params,(c===-1||new Date().getTime()-a.time<=c)&&(n.state.loading=!1)),o.current=Z(e,function(u){n.setState({data:u})})}},[]),J(function(){var a;(a=o.current)===null||a===void 0||a.call(o)}),e?{onBefore:function(a){var u=g(e,a);return!u||!Object.hasOwnProperty.call(u,"data")?{}:c===-1||new Date().getTime()-u.time<=c?{loading:!1,data:u==null?void 0:u.data,error:void 0,returnNow:!0}:{data:u==null?void 0:u.data,error:void 0}},onRequest:function(a,u){var b=Oe(e);return b&&b!==d.current?{servicePromise:b}:(b=a.apply(void 0,C([],w(u),!1)),d.current=b,We(e,b),{servicePromise:b})},onSuccess:function(a,u){var b;e&&((b=o.current)===null||b===void 0||b.call(o),m(e,{data:a,params:u,time:new Date().getTime()}),o.current=Z(e,function($){n.setState({data:$})}))},onMutate:function(a){var u;e&&((u=o.current)===null||u===void 0||u.call(o),m(e,{data:a,params:n.state.params,time:new Date().getTime()}),o.current=Z(e,function(b){n.setState({data:b})}))}}:{}};const _e=De;var He=function(n,t){var e=t.debounceWait,r=t.debounceLeading,i=t.debounceTrailing,s=t.debounceMaxWait,c=v.useRef(),f=v.useMemo(function(){var l={};return r!==void 0&&(l.leading=r),i!==void 0&&(l.trailing=i),s!==void 0&&(l.maxWait=s),l},[r,i,s]);return v.useEffect(function(){if(e){var l=n.runAsync.bind(n);return c.current=Re(function(o){o()},e,f),n.runAsync=function(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];return new Promise(function(m,g){var a;(a=c.current)===null||a===void 0||a.call(c,function(){l.apply(void 0,C([],w(o),!1)).then(m).catch(g)})})},function(){var o;(o=c.current)===null||o===void 0||o.cancel(),n.runAsync=l}}},[e,f]),e?{onCancel:function(){var l;(l=c.current)===null||l===void 0||l.cancel()}}:{}};const Be=He;var je=function(n,t){var e=t.loadingDelay,r=t.ready,i=v.useRef();if(!e)return{};var s=function(){i.current&&clearTimeout(i.current)};return{onBefore:function(){return s(),r!==!1&&(i.current=setTimeout(function(){n.setState({loading:!0})},e)),{loading:!1}},onFinally:function(){s()},onCancel:function(){s()}}};const Ke=je;function Q(){return j?document.visibilityState!=="hidden":!0}var O=[];function Ve(n){return O.push(n),function(){var e=O.indexOf(n);O.splice(e,1)}}if(j){var ze=function(){if(Q())for(var n=0;n<O.length;n++){var t=O[n];t()}};window.addEventListener("visibilitychange",ze,!1)}var Ue=function(n,t){var e=t.pollingInterval,r=t.pollingWhenHidden,i=r===void 0?!0:r,s=t.pollingErrorRetryCount,c=s===void 0?-1:s,f=v.useRef(),l=v.useRef(),o=v.useRef(0),d=function(){var m;f.current&&clearTimeout(f.current),(m=l.current)===null||m===void 0||m.call(l)};return G(function(){e||d()},[e]),e?{onBefore:function(){d()},onError:function(){o.current+=1},onSuccess:function(){o.current=0},onFinally:function(){c===-1||c!==-1&&o.current<=c?f.current=setTimeout(function(){!i&&!Q()?l.current=Ve(function(){n.refresh()}):n.refresh()},e):o.current=0},onCancel:function(){d()}}:{}};const Ie=Ue;function Ze(n,t){var e=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];e||(e=!0,n.apply(void 0,C([],w(r),!1)),setTimeout(function(){e=!1},t))}}function Ge(){return j&&typeof navigator.onLine<"u"?navigator.onLine:!0}var W=[];function Xe(n){return W.push(n),function(){var e=W.indexOf(n);e>-1&&W.splice(e,1)}}if(j){var te=function(){if(!(!Q()||!Ge()))for(var n=0;n<W.length;n++){var t=W[n];t()}};window.addEventListener("visibilitychange",te,!1),window.addEventListener("focus",te,!1)}var qe=function(n,t){var e=t.refreshOnWindowFocus,r=t.focusTimespan,i=r===void 0?5e3:r,s=v.useRef(),c=function(){var f;(f=s.current)===null||f===void 0||f.call(s)};return v.useEffect(function(){if(e){var f=Ze(n.refresh.bind(n),i);s.current=Xe(function(){f()})}return function(){c()}},[e,i]),J(function(){c()}),{}};const Je=qe;var Qe=function(n,t){var e=t.retryInterval,r=t.retryCount,i=v.useRef(),s=v.useRef(0),c=v.useRef(!1);return r?{onBefore:function(){c.current||(s.current=0),c.current=!1,i.current&&clearTimeout(i.current)},onSuccess:function(){s.current=0},onError:function(){if(s.current+=1,r===-1||s.current<=r){var f=e??Math.min(1e3*Math.pow(2,s.current),3e4);i.current=setTimeout(function(){c.current=!0,n.refresh()},f)}else s.current=0},onCancel:function(){s.current=0,i.current&&clearTimeout(i.current)}}:{}};const Ye=Qe;var et=function(n,t){var e=t.throttleWait,r=t.throttleLeading,i=t.throttleTrailing,s=v.useRef(),c={};return r!==void 0&&(c.leading=r),i!==void 0&&(c.trailing=i),v.useEffect(function(){if(e){var f=n.runAsync.bind(n);return s.current=Ee(function(l){l()},e,c),n.runAsync=function(){for(var l=[],o=0;o<arguments.length;o++)l[o]=arguments[o];return new Promise(function(d,m){var g;(g=s.current)===null||g===void 0||g.call(s,function(){f.apply(void 0,C([],w(l),!1)).then(d).catch(m)})})},function(){var l;n.runAsync=f,(l=s.current)===null||l===void 0||l.cancel()}}},[e,r,i]),e?{onCancel:function(){var f;(f=s.current)===null||f===void 0||f.cancel()}}:{}};const tt=et;var nt=function(){var n=w(v.useState({}),2),t=n[1];return v.useCallback(function(){return t({})},[])};const oe=nt;var rt=function(){function n(t,e,r,i){i===void 0&&(i={}),this.serviceRef=t,this.options=e,this.subscribe=r,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=x(x(x({},this.state),{loading:!e.manual}),i)}return n.prototype.setState=function(t){t===void 0&&(t={}),this.state=x(x({},this.state),t),this.subscribe()},n.prototype.runPluginHandler=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=this.pluginImpls.map(function(s){var c;return(c=s[t])===null||c===void 0?void 0:c.call.apply(c,C([s],w(e),!1))}).filter(Boolean);return Object.assign.apply(Object,C([{}],w(i),!1))},n.prototype.runAsync=function(){for(var t,e,r,i,s,c,f,l,o,d,m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];return me(this,void 0,void 0,function(){var a,u,b,$,k,S,M,h,p,y,E;return he(this,function(R){switch(R.label){case 0:if(this.count+=1,a=this.count,u=this.runPluginHandler("onBefore",m),b=u.stopNow,$=b===void 0?!1:b,k=u.returnNow,S=k===void 0?!1:k,M=ne(u,["stopNow","returnNow"]),$)return[2,new Promise(function(){})];if(this.setState(x({loading:!0,params:m},M)),S)return[2,Promise.resolve(M.data)];(e=(t=this.options).onBefore)===null||e===void 0||e.call(t,m),R.label=1;case 1:return R.trys.push([1,3,,4]),h=this.runPluginHandler("onRequest",this.serviceRef.current,m).servicePromise,h||(h=(E=this.serviceRef).current.apply(E,C([],w(m),!1))),[4,h];case 2:return p=R.sent(),a!==this.count?[2,new Promise(function(){})]:(this.setState({data:p,error:void 0,loading:!1}),(i=(r=this.options).onSuccess)===null||i===void 0||i.call(r,p,m),this.runPluginHandler("onSuccess",p,m),(c=(s=this.options).onFinally)===null||c===void 0||c.call(s,m,p,void 0),a===this.count&&this.runPluginHandler("onFinally",m,p,void 0),[2,p]);case 3:if(y=R.sent(),a!==this.count)return[2,new Promise(function(){})];throw this.setState({error:y,loading:!1}),(l=(f=this.options).onError)===null||l===void 0||l.call(f,y,m),this.runPluginHandler("onError",y,m),(d=(o=this.options).onFinally)===null||d===void 0||d.call(o,m,void 0,y),a===this.count&&this.runPluginHandler("onFinally",m,void 0,y),y;case 4:return[2]}})})},n.prototype.run=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.runAsync.apply(this,C([],w(e),!1)).catch(function(i){t.options.onError||console.error(i)})},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,C([],w(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,C([],w(this.state.params||[]),!1))},n.prototype.mutate=function(t){var e=pe(t)?t(this.state.data):t;this.runPluginHandler("onMutate",e),this.setState({data:e})},n}();const at=rt;function it(n,t,e){t===void 0&&(t={}),e===void 0&&(e=[]);var r=t.manual,i=r===void 0?!1:r,s=ne(t,["manual"]);ge&&t.defaultParams&&!Array.isArray(t.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof t.defaultParams));var c=x({manual:i},s),f=Pe(n),l=oe(),o=ie(function(){var d=e.map(function(m){var g;return(g=m==null?void 0:m.onInit)===null||g===void 0?void 0:g.call(m,c)}).filter(Boolean);return new at(f,c,l,Object.assign.apply(Object,C([{}],w(d),!1)))},[]);return o.options=c,o.pluginImpls=e.map(function(d){return d(o,c)}),Se(function(){if(!i){var d=o.state.params||t.defaultParams||[];o.run.apply(o,C([],w(d),!1))}}),J(function(){o.cancel()}),{loading:o.state.loading,data:o.state.data,error:o.state.error,params:o.state.params||[],cancel:F(o.cancel.bind(o)),refresh:F(o.refresh.bind(o)),refreshAsync:F(o.refreshAsync.bind(o)),run:F(o.run.bind(o)),runAsync:F(o.runAsync.bind(o)),mutate:F(o.mutate.bind(o))}}function bt(n,t,e){return it(n,t,C(C([],w(e||[]),!1),[Be,Ke,Ie,Je,tt,Me,_e,Ye],!1))}function ot(n){return v.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n,{style:Object.assign({verticalAlign:"-0.125em"},n.style),className:["antd-mobile-icon",n.className].filter(Boolean).join(" ")}),v.createElement("g",{id:"CloseCircleFill-CloseCircleFill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},v.createElement("g",{id:"CloseCircleFill-编组"},v.createElement("rect",{id:"CloseCircleFill-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),v.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M18.6753876,16 L15.5637812,16 C15.4576916,16 15.3559474,16.0421451 15.2809323,16.1171635 C15.124726,16.2733766 15.1247316,16.5266426 15.2809447,16.6828489 L15.2809447,16.6828489 L22.299066,23.7006641 L14.6828159,31.3171619 C14.6078042,31.3921761 14.5656632,31.4939157 14.5656632,31.6 C14.5656632,31.8209139 14.7447493,32 14.9656632,32 L14.9656632,32 L18.0753284,32 C18.1814068,32 18.2831412,31.9578638 18.3581544,31.8828594 L18.3581544,31.8828594 L24.420066,25.8216641 L30.4818451,31.8828564 C30.5568585,31.9578626 30.6585942,32 30.7646741,32 L30.7646741,32 L33.8763476,32 C33.9824309,32 34.0841695,31.9578599 34.1591835,31.8828496 C34.315397,31.7266436 34.3154031,31.4733776 34.1591972,31.3171641 L34.1591972,31.3171641 L26.542066,23.6996641 L33.5591874,16.6828489 C33.6342057,16.6078338 33.6763508,16.5060896 33.6763508,16.4 C33.6763508,16.1790861 33.4972647,16 33.2763508,16 L33.2763508,16 L30.1637654,16 C30.0576705,16 29.9559218,16.0421493 29.8809058,16.1171741 L29.8809058,16.1171741 L24.420066,21.5786641 L18.9582218,16.1171488 C18.883208,16.0421394 18.7814701,16 18.6753876,16 L18.6753876,16 Z",id:"CloseCircleFill-形状结合",fill:"currentColor",fillRule:"nonzero"}))))}function ue(n){const{value:t,defaultValue:e,onChange:r}=n,i=oe(),s=v.useRef(t!==void 0?t:e);t!==void 0&&(s.current=t);const c=F((f,l=!1)=>{const o=typeof f=="function"?f(s.current):f;if(!(!l&&o===s.current))return s.current=o,i(),r==null?void 0:r(o)});return[s.current,c]}function ut(n,t,e){const r=F(n);v.useEffect(()=>{const i=new MutationObserver(()=>{r()});if(t.current)return i.observe(t.current,e),()=>{i.disconnect()}},[t])}function se(n,t,e){let r=n;return t!==void 0&&(r=Math.max(n,t)),e!==void 0&&(r=Math.min(r,e)),r}function st(n,t){let e=0;function r(i){P.Children.forEach(i,s=>{be.isFragment(s)?r(s.props.children):(t(s,e),e+=1)})}r(n)}const L="adm-tabs",lt=()=>null,ct={activeLineMode:"auto",stretch:!0},ft=n=>{var t;const e=re(ct,n),r=v.useRef(null),i=v.useRef(null),s={};let c=null;const f=[];st(e.children,(h,p)=>{if(!v.isValidElement(h))return;const y=h.key;if(typeof y!="string")return;p===0&&(c=y);const E=f.push(h);s[y]=E-1});const[l,o]=ue({value:e.activeKey,defaultValue:(t=e.defaultActiveKey)!==null&&t!==void 0?t:c,onChange:h=>{var p;h!==null&&((p=e.onChange)===null||p===void 0||p.call(e,h))}}),[{x:d,width:m},g]=I(()=>({x:0,width:0,config:{tension:300,clamp:!0}})),[{scrollLeft:a},u]=I(()=>({scrollLeft:0,config:{tension:300,clamp:!0}})),[{leftMaskOpacity:b,rightMaskOpacity:$},k]=I(()=>({leftMaskOpacity:0,rightMaskOpacity:0,config:{clamp:!0}}));function S(h=!1){const p=r.current;if(!p)return;const y=s[l];if(y===void 0){g.start({x:0,width:0,immediate:!0});return}const E=i.current;if(!E)return;const R=p.children.item(y+1),Y=R.children.item(0),K=Y.offsetLeft,V=Y.offsetWidth,le=R.offsetLeft,ce=R.offsetWidth,z=p.offsetWidth,ee=p.scrollWidth,fe=p.scrollLeft,de=E.offsetWidth;let N=0,U=0;if(e.activeLineMode==="auto"?(N=K,U=V):e.activeLineMode==="full"?(N=le,U=ce):N=K+(V-de)/2,g.start({x:N,width:U,immediate:h}),ee-z<=0)return;const ve=se(K-(z-V)/2,0,ee-z);u.start({scrollLeft:ve,from:{scrollLeft:fe},immediate:h})}q(()=>{S(!d.isAnimating)},[]),Le(()=>{S()},[l]),Te(()=>{S(!d.isAnimating)},r),ut(()=>{S(!d.isAnimating)},r,{subtree:!0,childList:!0,characterData:!0});const{run:M}=xe((h=!1)=>{const p=r.current;if(!p)return;const y=p.scrollLeft,E=y>0,R=y+p.offsetWidth<p.scrollWidth;k.start({leftMaskOpacity:E?1:0,rightMaskOpacity:R?1:0,immediate:h})},{wait:100,trailing:!0,leading:!0});return q(()=>{M(!0)},[]),X(e,P.createElement("div",{className:L},P.createElement("div",{className:`${L}-header`},P.createElement(D.div,{className:A(`${L}-header-mask`,`${L}-header-mask-left`),style:{opacity:b}}),P.createElement(D.div,{className:A(`${L}-header-mask`,`${L}-header-mask-right`),style:{opacity:$}}),P.createElement(D.div,{className:`${L}-tab-list`,ref:r,scrollLeft:a,onScroll:M,role:"tablist"},P.createElement(D.div,{ref:i,className:`${L}-tab-line`,style:{width:e.activeLineMode==="fixed"?"var(--fixed-active-line-width, 30px)":m,x:d}}),f.map(h=>X(h.props,P.createElement("div",{key:h.key,className:A(`${L}-tab-wrapper`,{[`${L}-tab-wrapper-stretch`]:e.stretch})},P.createElement("div",{onClick:()=>{const{key:p}=h;h.props.disabled||p!=null&&o(p.toString())},className:A(`${L}-tab`,{[`${L}-tab-active`]:h.key===l,[`${L}-tab-disabled`]:h.props.disabled}),role:"tab","aria-selected":h.key===l},h.props.title)))))),f.map(h=>{if(h.props.children===void 0)return null;const p=h.key===l;return P.createElement(ye,{key:h.key,active:p,forceRender:h.props.forceRender,destroyOnClose:h.props.destroyOnClose},P.createElement("div",{className:`${L}-content`,style:{display:p?"block":"none"}},h.props.children))})))},yt=Fe(ft,{Tab:lt});const _="adm-input",dt={defaultValue:"",onlyShowClearWhenFocus:!0},Ct=v.forwardRef((n,t)=>{const e=re(dt,n),[r,i]=ue(e),[s,c]=v.useState(!1),f=v.useRef(!1),l=v.useRef(null),{locale:o}=Ce();v.useImperativeHandle(t,()=>({clear:()=>{i("")},focus:()=>{var a;(a=l.current)===null||a===void 0||a.focus()},blur:()=>{var a;(a=l.current)===null||a===void 0||a.blur()},get nativeElement(){return l.current}}));const d=a=>{var u;e.onEnterPress&&(a.code==="Enter"||a.keyCode===13)&&e.onEnterPress(a),(u=e.onKeyDown)===null||u===void 0||u.call(e,a)};q(()=>{var a;if(e.enterKeyHint)return(a=l.current)===null||a===void 0||a.setAttribute("enterkeyhint",e.enterKeyHint),()=>{var u;(u=l.current)===null||u===void 0||u.removeAttribute("enterkeyhint")}},[e.enterKeyHint]);function m(){let a=r;if(e.type==="number"){const u=a&&se(parseFloat(a),e.min,e.max).toString();Number(a)!==Number(u)&&(a=u)}a!==r&&i(a)}const g=(()=>!e.clearable||!r||e.readOnly?!1:e.onlyShowClearWhenFocus?s:!0)();return X(e,P.createElement("div",{className:A(`${_}`,e.disabled&&`${_}-disabled`)},P.createElement("input",{ref:l,className:`${_}-element`,value:r,onChange:a=>{i(a.target.value)},onFocus:a=>{var u;c(!0),(u=e.onFocus)===null||u===void 0||u.call(e,a)},onBlur:a=>{var u;c(!1),m(),(u=e.onBlur)===null||u===void 0||u.call(e,a)},id:e.id,placeholder:e.placeholder,disabled:e.disabled,readOnly:e.readOnly,maxLength:e.maxLength,minLength:e.minLength,max:e.max,min:e.min,autoComplete:e.autoComplete,autoFocus:e.autoFocus,pattern:e.pattern,inputMode:e.inputMode,type:e.type,name:e.name,autoCapitalize:e.autoCapitalize,autoCorrect:e.autoCorrect,onKeyDown:d,onKeyUp:e.onKeyUp,onCompositionStart:a=>{var u;f.current=!0,(u=e.onCompositionStart)===null||u===void 0||u.call(e,a)},onCompositionEnd:a=>{var u;f.current=!1,(u=e.onCompositionEnd)===null||u===void 0||u.call(e,a)},onClick:e.onClick,step:e.step,role:e.role,"aria-valuenow":e["aria-valuenow"],"aria-valuemax":e["aria-valuemax"],"aria-valuemin":e["aria-valuemin"],"aria-label":e["aria-label"]}),g&&P.createElement("div",{className:`${_}-clear`,onMouseDown:a=>{a.preventDefault()},onClick:()=>{var a,u;i(""),(a=e.onClear)===null||a===void 0||a.call(e),$e()&&f.current&&(f.current=!1,(u=l.current)===null||u===void 0||u.blur())},"aria-label":o.Input.clear},P.createElement(ot,null))))});export{ot as C,Ct as I,yt as T,oe as a,bt as b,se as c,ut as d,st as t,ue as u};
